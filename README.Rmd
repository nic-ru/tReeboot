---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# heaRt R package
### Written by Anna Signorini, Lucrezia Bonifazi, and Nicola Ruaro

<!-- badges: start -->
<!-- badges: end -->

## Description

**heaRt** is an R package for analyzing and modelling clinical data
related to heart disease diagnosis.

The package downloads and processes the Cleveland Heart Disease dataset
from the UCI Machine Learning Repository, allows the user to select
relevant clinical variables, fits different statistical and machine
learning models, and produces informative plots of the fitted results.

Three functions are provided:

1.  `load_heaRt()`: downloads the heart disease dataset, filters
    observations according to diagnosis severity, and returns a tidy
    object of class "heaRt",

2.  a `fit()` method: for fitting predictive models (decision trees,
    logistic regression, random forests, and linear regression) to
    "heaRt" objects. The user can choose whether to fit models with one
    or two predictors,

3.  and a `plot()` method for producing nice visualisations depending on
    the fitted model (decision tree plots, partial dependence plots, or
    regression curves) based on`ggplot2`.

Typically, these functions are applied sequentially. A demonstration of
the typical workflow of the `heaRt` package follows below.

## Installation

You can install the development version of heaRt from [GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("nic-ru/heaRt")
```

## Example

This is a basic example which shows how to fit a logistic regression model to clinical heart disease data using resting blood pressure and resting ECG measurements:

```{r example}
library(heaRt)
# modificare quando funziona
model <- fit(
  load_heaRt(vars = "rbp-restECG"),
  num_var = "2",
  fit_type = "logistic.reg"
)
```

Note that the data are dynamically obtained from the UCI Machine Learning Repository, hence the need for `load_heaRt()` to always access the original clinical dataset.

Subsequently, a graphical representation of the fitted model can be created:

```{r example2}
# chimare il modello come quello della vignetta
p <- plot(model)
```

A more thorough introduction is provided in the `heaRt` vignette.
